---
title:  "GIMP修图入门"
layout: post
tags: 图像处理
---

程序员多少听说过GIMP（GNU Image Manipulation Program）的大名，GTK就是Gimp Tool Kit的缩写，知道它是自由软件中仅有强大到能与Photoshop抗衡的图像处理软件。但和Photoshop一样，GIMP的操作方式有时也让初学者摸不着头脑。这里我们将通过一些典型的照片润饰、图像合成和图像创建来说明GIMP中的主要方面。

## 概述

GIMP的强项包括：
- 自由。可以在GPL条款下自由地运行、研究、修改和传播GIMP。
- 跨平台。可运行在GNU/Linux、Microsoft Windows™、Mac OS X™和许多其它操作系统上，并且有包括中文在内的众多语言翻译。
- 可编程。通过编写Perl、Python或Scheme脚本脚本可各种图像处理过程，如批量图像渲染和格式转换。
- 可扩展性。它能通过扩展插件完成各种事情，比如添加对新文件格式的支持和效果滤镜。
- 默认可用。自带必要的图像处理工具，如：
    - 图像工具包括画笔、铅笔、喷枪、克隆等工具。
    - 变换工具包括旋转，缩放，切变和翻转。
    - 选择工具包括矩形、椭圆、自由、模糊、贝赛尔曲线和智能剪刀。
    - 支持图层和通道。
    - 支持包括 GIF、JPEG、PNG、XPM、TIFF、TGA、MPEG、PS、PDF、PCX、BMP 在内的多种文件格式。
- 精细的质量控制。
    - 基于平铺的内存管理使足以处理大图像和同时打开许多图像。
    - 对所有涂画工具都使用次像素取样，因而能产生高品质的反锯齿效果。
- 多级撤消/重做

## 图像处理

### 导入图像

要处理图像首先得有图像，以下是导入图像的方法：
- 新建。
    1. 选菜单“文件”中“新建”
    2. 选择宽度和高度
    3. 有需要的话可以在高级选项中选择分辨率、色彩空间、初始填充
    4. “确定”
- 来自剪贴板
    1. 选菜单“文件”中“创建”中“从剪贴板”
- 来自屏幕截图
    1. 选菜单“文件”中“创建”中“屏幕截图”
    2. 决定截取的区域
- 来自文件系统
    1. 选菜单“文件”中“打开”
    2. 选择文件
- 来自网络
    1. 选菜单“文件”中“打开位置”
    2. 输入URL
    3. “打开”
- 另外，可能有来自扫描仪、最近打开和一些插件提供的图像生成功能。

### 编辑图像

- 变换图像。例如竖拍的照片需要旋转后显示方向才正确。
    1. 选择菜单“图像”中“变换”中的“上下翻转”、“左右翻转”、“顺时针旋转90度”、“逆时针旋转90度”、“旋转180度”
- 缩放图像。例如要制作缩略图。
    1. 选择菜单“图像”中“缩放图像”
    2. 选择新的高度和宽度，必要时也可指定插值方法
    3. “缩放”
- 改变画布大小。例如要加上相框或剪裁图像。除了可以让画布适配图层或选区外，也可以手动设置：
    1. 选择菜单“图像”中“画布大小”
    2. 设置新的高度和宽度，还有原来画布内容在新画布中位置，同时可决定改变哪些图层大小
- 自动裁剪。
    - 选择菜单“图像”中“自动裁剪”可以去除外围的背景
    - 选择菜单“图像”中“积极裁剪”可以去除外围和内部的背景
- 改变色彩模式。如果最终需要的是索引或灰度图像，则在编辑过程中使用相同模式可能更合适。
    1. 选择菜单“图像”中“模式”中的一个模式，如RGB、灰度和索引
    2. 对于索引模式会询问生成色板的方法
    
在误操作或希望比较操作前后时可以使用菜单“编辑”中“撤销”或“重做”功能。如果想撤销或重做多步，则可在菜单“编辑”中开启“撤销历史”。

### 选区

- 矩形选择
- 椭圆选择
- 自由选择
- 模糊选择
- 按颜色选择
- 智能剪刀
- 前景选择

### 涂画

- 油漆桶填充
- 混合填充
- 铅笔
- 画笔
- 橡皮
- 喷枪
- 墨水
- 克隆
- 透视克隆
- 复原
- 模糊/锐化
- 涂抹
- 减淡/加深

### 变换

- 对齐
- 移动
- 剪裁
- 旋转
- 缩放
- 切变
- 透视
- 翻转
- 笼子变换


### 颜色

- 色彩平衡
- 色调-饱和度
- 单色化
- 亮度-对比度
- 阈值
- 色阶
- 曲线
- 色调分离
- 去色

### 滤镜

滤镜通过应用算法对图层进行修改来实现各种各样的效果，GIMP自带的滤镜包括：

- 模糊滤镜。
    - 模糊。轻微柔化图像。
    - 高斯模糊。通过把像素换成邻近像素的加权平均进行常规模糊，模糊半径越大越模糊。
    - 选择性高斯模糊。只模糊低对比的部分，可用于模糊背景。
    - 动态模糊。用于制造动感效果。
    - 像素化。可用于对敏感部分打马赛克。
    - 可平铺模糊。用于对需平铺图像的模糊。
- 增强滤镜
    - 边缘平滑。用于反锯齿。
    - 去除交错。用于去除相机采用隔行扫描造成的交错。
    - 去除斑点。通过把像素换成邻近像素的中位数去去除小斑点。
    - 去除条纹。用于去除劣质扫描仪造成的条纹。
    - 非线性滤波。
    - 红眼去除。用于去除由于使用闪光灯造成的红眼。
    - 锐化。用于整体锐化。
    - 虚光蒙板。用于锐化高对比的部分，从而避免加大噪声。
- 扭曲滤镜    
    - 百叶窗。用于制作从百叶窗看出去效果。
    - 曲线扭曲。用于把矩形区域的上下边沿扭曲成各种形状。
    - 刻画。
    - 浮雕。用于生成浮雕效果。
    - 隔行擦除。用于生成老电视机逐行显示的效果。
    - 交互式翘曲。用于生成局部移动、膨胀收缩、旋涡等效果。
    - 镜头形变。用于生成显示器非平面造成的效果。
    - 马赛克。用于生成马赛克效果。
    - 报纸。用于生成打印机产生的半色调效果。
    - 页面卷曲。用于生成纸张卷曲产生的效果。
    - 极坐标。用于生成（部分）扭曲为球面的效果。
    - 波纹。用于生成在平行水波下的效果，可用于生成模拟电视机调台不准确时可能的效果。
    - 滑移。随机平移各行（或列），可用于生成震动效果。
    - 颜色繁殖。向指定方向扩散颜色值。
    - 视频。用于生成劣质RGB模拟的效果。
    - 波。用于生成在环状水波下的效果。
    - 旋转与挤压。用于想像印在弹性物料后扭曲的效果。
    - 风。用于生成被风吹等运动的效果。
    - 透镜。用于生成通过透镜观看的效果。
- 光照和阴影滤镜    
    - 渐变闪光。生成图中物体被强光照射的效果。
    - 镜头光晕。生成图中物体被太阳直射的效果。
    - 光照。生成图中物体被射灯照射的效果。
    - 火花。生成火光效果。
    - 超新星。生成发出强光的效果。
    - 透视。生成阴影的效果。
    - Xach-Effect。用于强调图像中一部分。
    - 投影。生成阴影的效果。
- 噪音滤镜    
    - HSV噪音
    - 撒。随机化部分像素。
    - 糊。随机下降一些像素，用于生成融化效果。
    - RGB噪音。生成看起来自然的噪声。
    - 捡。随机交换一些像素。
    - 扩散。随机扩散一些像素。
- 边缘检测滤镜    
    - 高斯差分。使用两个不同半径高斯模糊之差来检测，广泛用于机器视觉。
    - 边缘
    - 拉普拉斯。生成单像素宽度的边界。
    - 霓虹。生成霓虹灯效果的边界。
    - Sobel。生成垂直和水平边界。
- 通用滤镜    
    - 卷积矩阵。通过把像素代之以它为心窗口与你定义的矩阵作卷积得到的值，可以实现众多效果。
    - 腐蚀。用于收缩较亮的区域。
    - 膨胀。用于扩张较亮的区域。
- 组合滤镜    
    - 深度合并。用于合并多张照片。
    - 胶卷。用于从多疑照片放到胶卷上的效果。
- 艺术滤镜
    - 应用画布。用于生成印到画布上的效果。
    - 卡通。通过让深色更深来生成卡通效果。
    - 编织。用于生成印到编织品上的效果。
    - 布状效果。用于生成印到衣服上的效果。
    - 立体派。用于生成用纸片构成的效果。
    - 印象派艺术家。用于生成绘画效果。
    - 油画。用于生成油画效果。
    - 影印。用于生成黑白复印效果。
    - 捕食者。用于生成夜视的效果。
    - 柔光。用于生成柔光照射的效果。
    - 凡高。通过方向模糊来生成材质。
    - 玻璃瓦片。用于生成印到玻璃瓦片上的效果。
- 装饰滤镜    
    - 添加斜面。用于制作斜面效果。
    - 添加边框。用于制作边框。
    - 咖啡迹。用于添加咖啡迹。
    - 边缘模糊。用于制作边缘不规则的效果。
    - 老照片。用于生成老照片的效果。
    - 圆角。用于制作圆角图像。
    - 幻灯片。用于把图像放到胶卷上。
    - 蜡版雕刻。把灰度且没有Alpha通道的图像雕刻到另一图像上。
    - 蜡版镀铬。把灰度且没有Alpha通道的图像镀铬到另一图像上。
- 映射滤镜    
    - 凸凹贴图
    - 移位
    - 分形追溯
    - 幻像
    - 无缝处理
    - 映射到物体
    - 纸片平铺
    - 小块平铺
    - 平铺
    - 翘曲
- 渲染滤镜    
    - 差分云
    - 雾
    - 五彩缤纷
    - 纯色噪音
    - 火焰
    - IFS分形
    - 棋盘
    - CML探索器
    - 衍射图案
    - 网格
    - 拼图
    - 迷宫
    - Qbist
    - 正弦
    - 电路
    - 分形探索器
    - 几何图形
    - 熔岩
    - 新星线
    - 球面设计器
    - Spyrogimp
- 网页滤镜
    - 图像映射。用于生成用于网页的可点击地图。
    - 半平整。
    - 切片。用于生成多张图像和能把它们接起来的HTML文件。
- 动画滤镜
    - 混合
    - 烧入
    - 波纹
    - 旋转球
    - 波
    - 优化
    - 回放
- Alpha变徽标    
    - 3D轮廓
    - 冰凉金属
    - 材质
    - 裁剪掉
    - 炽热
    - 镀铬
    - 粉笔
    - 光泽
    - 混合
    - 基本 I
    - 基本 II
    - 渐变斜面
    - 粒子径迹
    - 漫画书
    - 奶牛斑
    - 霓虹灯
    - 奇异灯光
    - 奇异霓虹灯
    - 霜冻

选菜单“滤镜”中的“Python-Fu”或“Script-Fu”中“控制台”可以对GIMP进行编程控制。

### 图层



### 导出图像

处理图像后要向人们展示你的作品，有以下方法：
- 打印。如果希望生成纸质作品可以选择打印：
    1. 选菜单“文件”中“打印”
    2. 有需要的话作页面设置、图像设置和打印预览
    3. “打印”
- 保存。如果希望可方便地继续修改：
    1. 选菜单“文件”中“另存为”或者“保存”
    2. 选择要保存到的文件
- 导出。如果希望以电子格式展示：
    1. 选菜单“文件”中“导出为”
    2. 选择要保存到的文件和格式
    3. 有需要的话决定导出选项，例如压缩程度

## 定制GIMP

- 定制窗口。
    - 开关单窗口模式。菜单“窗口”中“单窗口模式”。
    - 打开对话框。菜单“窗口”中“可停靠对话框”中有各种对话框。
    - 隐藏或取消隐藏全部停靠对话框。菜单“窗口”中“隐藏停靠”。
- 定制输入设备。菜单“编辑”中“输入设备”。
- 定制快捷键。菜单“编辑”中“快捷键”。
- 开关模块。菜单“编辑”中“模块”。
- 定制长度单位。菜单“编辑”中“单位”。
- 其它选项。菜单“编辑”中“首选项”。

## 典型例子