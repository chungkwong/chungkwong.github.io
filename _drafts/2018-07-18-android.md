---
title:  "Android开发概览"
layout: post
tags: java
---

Android是目前在手机等移动设备上最流行的操作系统，。

## 开发环境

强烈建议使用官方的[Android Studio](https://developer.android.google.cn/studio)进行开发，支持包括Windows、Linux和Mac OS X在内的常见平台，它提供了基于IntelliJ的IDE，还包括Android模拟器等工具。安装Android Studio相当简单，在Windows下如常运行exe安装程序，在Linux下解压下运行`bin/studio.sh`即可，详情参见[安装说明](https://developer.android.google.cn/studio/install)，由于首次使用前会另外下载大量库和映像需要网络畅通。

__许多劣质书籍和网上教程还在讲早已过时的Eclipse ADT插件，切勿上当__

完成安装后打开Android Studio，后可以选择：
- 创建一个Android Studio项目
- 从文件系统打开一个Android Studio项目
- 从版本控制系统取得一个项目
- 调试或分析APK
- 导入其它项目
- 导入样例项目

## 项目结构

对于新手，我们的建议是从观察样例项目或现有其它现有项目（不妨在GitHub之类的地方寻找你感兴趣的成功项目）开始，慢慢熟悉项目的典型结构后尝试作出修改。经验告诉我们，让新手从空白项目开始会带来极大的迷茫，完成不知道从哪下手，即使坚持下去也往往会偏离最佳实践。

项目文件夹组织如下：

- `模块名称/`：每个项目由若干个模块组成，默认模块名为`app`
    - `build/`：包含构建输出
    - `libs/`：包含私有库
    - `src/`：包含模块的所有代码和资源文件
        - `main/`：包含产品的源文件
            - `AndroidManifest.xml`说明应用及其每个组件的属性
            - `java/`包含 Java 源代码
            - `jni/`包含使用 Java 原生接口 (JNI) 的原生代码
            - `gen/`包含 Android Studio 生成的 Java 文件，例如 `R.java` 文件以及从 AIDL 文件创建的接口
            - `res/`包含应用资源，例如可绘制对象文件、布局文件和 UI 字符串
            - `assets/`包含应原封不动地编译到 `.apk` 文件中的文件，可以使用 URI 像浏览典型文件系统一样浏览此目录，以及使用 AssetManager 以字节流形式读取文件。例如，此位置非常适合纹理和游戏数据。
        - `test/`：包含在开发主机JVM上运行的测试代码
        - `androidTest/`：包含在Android设备上运行的测试代码
    - `build.gradle`：定义模块特定的构建配置
- `build.gradle`：定义适用于所有模块的构建配置

### 项目清单

清单文件`AndroidManifest.xml`文件向 Android 系统提供应用的必要信息，系统必须知道这些信息才可运行应用：
- 为应用的 Java 软件包命名。软件包名称充当应用的唯一标识符。
- 描述应用的各个组件，包括构成应用的 Activity、服务、广播接收器和内容提供程序。它还为实现每个组件的类命名并发布其功能，例如它们可以处理的 Intent 消息。这些声明向 Android 系统告知有关组件以及可以启动这些组件的条件的信息。
- 确定托管应用组件的进程。
    声明应用必须具备哪些权限才能访问 API 中受保护的部分并与其他应用交互。还声明其他应用与该应用组件交互所需具备的权限
    列出 Instrumentation 类，这些类可在应用运行时提供分析和其他信息。这些声明只会在应用处于开发阶段时出现在清单中，在应用发布之前将移除。
    声明应用所需的最低 Android API 级别
    列出应用必须链接到的库


```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- 根元素。可选属性：
          android:sharedUserId="string"
          android:sharedUserLabel="string resource" 
          android:versionCode="integer"
          android:versionName="string"
          android:installLocation=["auto" | "internalOnly" | "preferExternal"]
-->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="包名">
    <!-- 应用正确运行所必须获取的权限。可选属性：
         android:maxSdkVersion="integer"
    -->
    <uses-permission android:name="权限名" />
    <!-- 应用提供的权限。可选属性：
         android:description="string resource"
         android:icon="drawable resource"
         android:label="string resource"
         android:name="string"
         android:permissionGroup="string"
         android:protectionLevel=["normal" | "dangerous" | "signature" | ...]
    -->
    <permission />
    <!-- 应用声明的权限树基名。可选属性：
         android:icon="drawable resource"
         android:label="string resource" ]
         android:name="string"
    -->
    <permission-tree />
    <!-- 应用声明的权限组。可选属性：
         android:description="string resource"
         android:icon="drawable resource"
         android:label="string resource"
         android:name="string"
    -->
    <permission-group />
    <!-- 应用应用与系统交互的Instrumentation类。可选属性：
         android:functionalTest=["true" | "false"]
         android:handleProfiling=["true" | "false"]
         android:icon="drawable resource"
         android:label="string resource"
         android:name="string"
         android:targetPackage="string"
         android:targetProcesses="string"
    -->
    <instrumentation />
    <!-- 应用的API级别兼容性。可选属性：
         android:minSdkVersion="integer"
         android:targetSdkVersion="integer"
         android:maxSdkVersion="integer"
    -->
    <uses-sdk />
    <!-- 应用要求的配置。可选属性：
         android:reqFiveWayNav=["true" | "false"]
         android:reqHardKeyboard=["true" | "false"]
         android:reqKeyboardType=["undefined" | "nokeys" | "qwerty" | "twelvekey"]
         android:reqNavigation=["undefined" | "nonav" | "dpad" | "trackball" | "wheel"]
         android:reqTouchScreen=["undefined" | "notouch" | "stylus" | "finger"]
    -->
    <uses-configuration />  
    <!-- 应用可能使用的功能。可选属性：
         android:name="string"
         android:required=["true" | "false"]
         android:glEsVersion="integer"
    -->
    <uses-feature />  
    <!-- 应用适用的屏幕大小。可选属性：
         android:resizeable=["true"| "false"]
         android:smallScreens=["true" | "false"]
         android:normalScreens=["true" | "false"]
         android:largeScreens=["true" | "false"]
         android:xlargeScreens=["true" | "false"]
         android:anyDensity=["true" | "false"]
         android:requiresSmallestWidthDp="integer"
         android:compatibleWidthLimitDp="integer"
         android:largestWidthLimitDp="integer"
    -->
    <supports-screens />  
    <!-- 应用适用的屏幕配置。必要属性：
         android:screenSize=["small" | "normal" | "large" | "xlarge"]
         android:screenDensity=["ldpi" | "mdpi" | "hdpi" | "xhdpi"
                               | "280" | "360" | "420" | "480" | "560" ]
    -->
    <compatible-screens />  
    <!-- 应用支持的GL纹理压缩格式。可选属性：
         android:name="string"
    -->
    <supports-gl-texture />  

    <!-- 应用属性，必须有且是menifest最后一个元素。可选属性：
         android:allowTaskReparenting=["true" | "false"]
         android:allowBackup=["true" | "false"]
         android:allowClearUserData=["true" | "false"]
         android:backupAgent="string"
         android:backupInForeground=["true" | "false"]
         android:banner="drawable resource"
         android:debuggable=["true" | "false"]
         android:description="string resource"
         android:directBootAware=["true" | "false"]
         android:enabled=["true" | "false"]
         android:extractNativeLibs=["true" | "false"]
         android:fullBackupContent="string"
         android:fullBackupOnly=["true" | "false"]
         android:hasCode=["true" | "false"]
         android:hardwareAccelerated=["true" | "false"]
         android:icon="drawable resource"
         android:isGame=["true" | "false"]
         android:killAfterRestore=["true" | "false"]
         android:largeHeap=["true" | "false"]
         android:label="string resource"
         android:logo="drawable resource"
         android:manageSpaceActivity="string"
         android:name="string"
         android:networkSecurityConfig="xml resource"
         android:permission="string"
         android:persistent=["true" | "false"]
         android:process="string"
         android:restoreAnyVersion=["true" | "false"]
         android:requiredAccountType="string"
         android:resizeableActivity=["true" | "false"]
         android:restrictedAccountType="string"
         android:supportsRtl=["true" | "false"]
         android:taskAffinity="string"
         android:testOnly=["true" | "false"]
         android:theme="resource or theme"
         android:uiOptions=["none" | "splitActionBarWhenNarrow"]
         android:usesCleartextTraffic=["true" | "false"]
         android:vmSafeMode=["true" | "false"]
    -->
    <application>

        <!-- 声明可运行的Activity类。可选属性：
             android:allowEmbedded=["true" | "false"]
             android:allowTaskReparenting=["true" | "false"]
             android:alwaysRetainTaskState=["true" | "false"]
             android:autoRemoveFromRecents=["true" | "false"]
             android:banner="drawable resource"
             android:clearTaskOnLaunch=["true" | "false"]
             android:configChanges=["mcc", "mnc", "locale",
                                    "touchscreen", "keyboard", "keyboardHidden",
                                    "navigation", "screenLayout", "fontScale",
                                    "uiMode", "orientation", "screenSize",
                                    "smallestScreenSize"]
             android:documentLaunchMode=["intoExisting" | "always" |
                                     "none" | "never"]
             android:enabled=["true" | "false"]
             android:excludeFromRecents=["true" | "false"]
             android:exported=["true" | "false"]
             android:finishOnTaskLaunch=["true" | "false"]
             android:hardwareAccelerated=["true" | "false"]
             android:icon="drawable resource"
             android:label="string resource"
             android:launchMode=["standard" | "singleTop" |
                                 "singleTask" | "singleInstance"]
             android:maxRecents="integer"
             android:multiprocess=["true" | "false"]
             android:name="string"
             android:noHistory=["true" | "false"]  
             android:parentActivityName="string" 
             android:permission="string"
             android:process="string"
             android:relinquishTaskIdentity=["true" | "false"]
             android:resizeableActivity=["true" | "false"]
             android:screenOrientation=["unspecified" | "behind" |
                                        "landscape" | "portrait" |
                                        "reverseLandscape" | "reversePortrait" |
                                        "sensorLandscape" | "sensorPortrait" |
                                        "userLandscape" | "userPortrait" |
                                        "sensor" | "fullSensor" | "nosensor" |
                                        "user" | "fullUser" | "locked"]
             android:stateNotNeeded=["true" | "false"]
             android:supportsPictureInPicture=["true" | "false"]
             android:taskAffinity="string"
             android:theme="resource or theme"
             android:uiOptions=["none" | "splitActionBarWhenNarrow"]
             android:windowSoftInputMode=["stateUnspecified",
                                          "stateUnchanged", "stateHidden",
                                          "stateAlwaysHidden", "stateVisible",
                                          "stateAlwaysVisible", "adjustUnspecifi   ed",
                                          "adjustResize", "adjustPan"]
        -->
        <activity>
            <!-- 声明活动可响应的意图。可选属性：
               android:icon="drawable resource"
               android:label="string resource"
               android:priority="integer"
            -->
            <intent-filter>
                <!-- 可响应的动作。可选属性：
                     android:name="string"
                -->
                <action />
                <!-- 响应的类别。可选属性：
                     android:name="string"
                -->
                <category />
                <!-- 可响应的数据。可选属性：
                     android:scheme="string"
                     android:host="string"
                     android:port="string"
                     android:path="string"
                     android:pathPattern="string"
                     android:pathPrefix="string"
                     android:mimeType="string"
                -->
                <data />
            </intent-filter>
            <!-- 声明元数据。可选属性：
               android:name="string"
               android:resource="resource specification"
               android:value="string"
            -->
            <meta-data />
        </activity>

        <!-- 声明活动别名。可选属性：
             android:enabled=["true" | "false"]
             android:exported=["true" | "false"]
             android:icon="drawable resource"
             android:label="string resource"
             android:name="string"
             android:permission="string"
             android:targetActivity="string"
        -->
        <activity-alias>
            <intent-filter> . . . </intent-filter>
            <meta-data />
        </activity-alias>

        <!-- 声明可运行的Service类。可选属性：
             android:description="string resource"
             android:directBootAware=["true" | "false"]
             android:enabled=["true" | "false"]
             android:exported=["true" | "false"]
             android:icon="drawable resource"
             android:isolatedProcess=["true" | "false"]
             android:label="string resource"
             android:name="string"
             android:permission="string"
             android:process="string"
        -->
        <service>
            <intent-filter> . . . </intent-filter>
            <meta-data/>
        </service>

        <!-- 声明BroadcastReceiver类。可选属性：
             android:directBootAware=["true" | "false"]
             android:enabled=["true" | "false"]
             android:exported=["true" | "false"]
             android:icon="drawable resource"
             android:label="string resource"
             android:name="string"
             android:permission="string"
             android:process="string"
        -->
        <receiver>
            <intent-filter> . . . </intent-filter>
            <meta-data />
        </receiver>

        <!-- 声明ContentProvider类。可选属性：
             android:authorities="list"
             android:directBootAware=["true" | "false"]
             android:enabled=["true" | "false"]
             android:exported=["true" | "false"]
             android:grantUriPermissions=["true" | "false"]
             android:icon="drawable resource"
             android:initOrder="integer"
             android:label="string resource"
             android:multiprocess=["true" | "false"]
             android:name="string"
             android:permission="string"
             android:process="string"
             android:readPermission="string"
             android:syncable=["true" | "false"]
             android:writePermission="string"
        -->
        <provider>
            <!-- 本内容提供器有权访问的应用数据子集。可选属性：
                 android:path="string"
                 android:pathPattern="string"
                 android:pathPrefix="string"
            -->
            <grant-uri-permission />
            <meta-data />
            <!-- 访问应用数据子集所需权限。可选属性：
                 android:path="string"
                 android:pathPrefix="string"
                 android:pathPattern="string"
                 android:permission="string"
                 android:readPermission="string"
                 android:writePermission="string"
            -->
            <path-permission />
        </provider>

        <!-- 需要链接的共享库（android.*包不用）。可选属性：
             android:name="string"
             android:required=["true" | "false"]
        -->
        <uses-library />

    </application>

</manifest>
```

由于一些属性值如描述和图标应当本地化，有关属性可以用`@包:类型/名称`或`@类型/名称`引用资源。类似地，可以用`?包:类型/名称`或`?类型/名称`引用主题。另外，字符串属性可以用双反斜杠转义字符，例如用`\\n`表示换行符或使用`\\uxxxx`表示 Unicode 字符。

以下是部分功能列表：

名称|功能
---|---
android.hardware.audio.low_latency|应用使用设备的低延迟时间音频管道，该管道可以减少处理声音输入或输出时的滞后和延迟。 
android.hardware.audio.output|应用使用设备的音响设备、音频耳机插孔、蓝牙流式传输能力或类似机制传输声音。 
android.hardware.audio.pro|应用使用设备的高端音频功能和性能能力。 
android.hardware.microphone|应用使用设备的麦克风记录音频。 
android.hardware.bluetooth|应用使用设备的蓝牙功能，通常是为了与其他支持蓝牙的设备通信。 
android.hardware.bluetooth_le|应用使用设备的低功耗蓝牙无线电功能。 
android.hardware.camera|应用使用设备的后置相机。只有前置相机的设备不会列出该功能，因此如果您的应用可与任何朝向的相机通信，请改用 android.hardware.camera.any 功能。 
android.hardware.camera.any|应用使用设备的其中一个相机或用户为设备连接的外置相机。 如果您的应用不要求相机必须是后置式，请使用此值来替代 android.hardware.camera。 
android.hardware.camera.autofocus|应用使用设备相机支持的自动对焦功能。应用通过使用该功能暗示其还使用 android.hardware.camera 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.camera.capability.manual_post_processing|应用使用设备相机支持的 MANUAL_POST_PROCESSING 功能。您的应用可以通过该功能替换相机的自动白平衡功能。 使用 android.colorCorrection.transform、android.colorCorrection.gains 以及 TRANSFORM_MATRIX 的 android.colorCorrection.mode。
android.hardware.camera.capability.manual_sensor|应用使用设备相机支持的 MANUAL_SENSOR 功能。该功能隐含对自动曝光锁定(android.control.aeLock) 的支持，该支持可以让相机的曝光时间和灵敏度一直固定在特定值。
android.hardware.camera.capability.raw|应用使用设备相机支持的 RAW 功能。该功能暗示设备可以保存 DNG（原始）文件，并且设备的相机提供您的应用直接处理这些原始图像所需的 DNG 相关元数据。
android.hardware.camera.external|应用与用户为设备连接的外置相机通信。 但该功能不能保证外置相机可供您的应用使用。 
android.hardware.camera.flash|应用使用设备相机支持的闪光功能。应用通过使用该功能暗示其还使用 android.hardware.camera 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.camera.front|应用使用设备的前置相机。应用通过使用该功能暗示其还使用 android.hardware.camera 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.camera.level.full|应用使用设备的至少一个相机提供的 FULL 级图像捕捉支持。 提供 FULL 支持的相机可提供快速捕捉功能、逐帧控制和手动后期处理控制。 
android.hardware.type.automotive|应用设计为在车辆内的一组屏幕上显示其 UI。 用户使用硬按钮、触摸、旋转控制器以及类鼠标界面与应用进行交互。 车辆的屏幕通常出现在车辆的中控台或仪表板中。 这些屏幕的尺寸和分辨率通常有限。切记，由于用户是在驾车时使用这类应用 UI，应用必须尽量不要让驾驶员分心。
android.hardware.type.television|（已弃用；请改用 android.software.leanback。）应用设计为在电视上显示其 UI。该功能将“电视”定义为一种典型的起居室电视体验：显示在大屏幕上，用户坐在远处，主流输入形式是类似方向键的东西，一般不使用鼠标、指示器或触摸设备。
android.hardware.type.watch|应用设计为在手表上显示其 UI。手表佩戴在身体（例如手腕）上。 用户在很近的距离与设备互动。 
android.hardware.fingerprint|应用使用设备的生物识别硬件读取指纹。 
android.hardware.gamepad|应用捕获来自设备本身或其连接的手柄的游戏控制器输入。 
android.hardware.consumerir|应用使用设备的红外线 (IR) 功能，通常是为了与其他消费 IR 设备通信。 
android.hardware.location|应用使用设备上的一项或多项功能来确定位置，例如 GPS 位置、网络位置或基站位置。 
android.hardware.location.gps|应用使用从设备上的全球定位系统 (GPS) 接收器获得的精确位置坐标。应用通过使用该功能暗示其还使用 android.hardware.location 功能，除非这个父功能在声明时使用了属性 android:required="false"。
android.hardware.location.network|应用使用从设备上支持的基于网络的地理定位系统获得的粗略位置坐标。应用通过使用该功能暗示其还使用 android.hardware.location 功能，除非这个父功能在声明时使用了属性 android:required="false"。
android.hardware.nfc|应用使用设备的近距离无线通信 (NFC) 功能。 
android.hardware.nfc.hce|（已弃用。）应用使用设备上托管的 NFC 卡模拟。
android.hardware.opengles.aep|应用使用设备上安装的 OpenGL ES Android 扩展包。 
android.hardware.sensor.accelerometer|应用使用从设备的加速计读取的运动信息来检测设备的当前方向。 例如，应用可以使用加速计读数来确定何时在纵向与横向方向之间切换。 
android.hardware.sensor.ambient_temperature|应用使用设备的外界（环境）温度传感器。例如，天气应用可以报告室内或室外温度。 
android.hardware.sensor.barometer|应用使用设备的气压计。例如，天气应用可以报告气压。 
android.hardware.sensor.compass|应用使用设备的磁力计（罗盘）。例如，导航应用可以用户当前面朝的方向。 
android.hardware.sensor.gyroscope|应用使用设备的陀螺仪来检测旋转和倾斜，从而形成一个六轴方向系统。 通过使用该传感器，应用可以更顺利地检测其是否需要在纵向与横向方向之间切换。 
android.hardware.sensor.hifi_sensors|应用使用设备的高保真 (Hi-Fi) 传感器。例如，游戏应用可以检测用户的高精度移动。 
android.hardware.sensor.heartrate|应用使用设备的心率监测器。例如，健身应用可以报告用户心率随时间的变化趋势。 
android.hardware.sensor.heartrate.ecg|应用使用设备的超声波心动图 (ECG) 心率传感器。例如，健身应用可以报告有关用户心率的更详细信息。 
android.hardware.sensor.light|应用使用设备的光传感器。例如，应用可以根据环境光照条件显示两种不同配色方案中的一种。 
android.hardware.sensor.proximity|应用使用设备的近程传感器。例如，电话应用可以在其检测到用户握持的设备贴近身体时关闭设备的屏幕。 
android.hardware.sensor.relative_humidity|应用使用设备的相对湿度传感器。例如，天气应用可以利用湿度来计算和报告当前露点。 
android.hardware.sensor.stepcounter|应用使用设备的计步器。例如，健身应用可以报告用户需要走多少步才能达到每天的计步目标。 
android.hardware.sensor.stepdetector|应用使用设备的步测器。例如，健身应用可以利用每步的间隔时间来推测用户正在进行的锻炼类型。 
android.hardware.screen.landscape|
android.hardware.screen.portrait|应用要求设备使用纵向或横向方向。 如果您的应用同时支持这两种方向，则无需声明任一功能。默认情况下假定两种方向均非要求的方向，这样您的应用就可以安装在支持一种或同时支持两种方向的设备上。 不过，如果应用的任何 Activity 利用android:screenOrientation 属性请求在特定方向下运行，则此声明意味着您的应用要求该方向。 例如，如果您使用"landscape"、"reverseLandscape" 或 "sensorLandscape" 声明 android:screenOrientation，则您的应用将只能安装在支持横向方向的设备上。最佳做法是，您仍应使用 `<uses-feature>` 元素来声明对该方向的要求。 如果您使用 android:screenOrientation 为 Activity 声明了某个方向，但实际并无此要求，可通过使用 `<uses-feature>` 元素并加入 android:required="false" 声明该方向来停用这一要求。为实现后向兼容性，任何运行 Android 3.1（API 级别 12）或更低版本的设备都同时支持横向和纵向方向。
android.hardware.telephony|应用使用设备的电话功能，例如提供数据通信服务的无线电话。 
android.hardware.telephony.cdma|应用使用码分多址接入 (CDMA) 无线电话系统。应用通过使用该功能暗示其还使用 android.hardware.telephony 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.telephony.gsm|应用使用全球移动通信系统 (GSM) 无线电话系统。应用通过使用该功能暗示其还使用 android.hardware.telephony 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.faketouch|应用使用基本的触摸交互事件，例如点按和拖动。声明为必需时，此功能表示应用只兼容模拟触摸屏（“假触摸”界面）或实际具有触摸屏的设备。带有假触摸界面的设备为用户提供模拟部分触摸屏功能的用户输入系统。 例如，鼠标或遥控器可以驱动屏幕光标。 如果您的应用需要基本的点击式交互（换言之，它在只使用方向键控制器的情况下无法正常工作），则应声明该功能。 由于这是最低水平的触摸交互，因此您还可以在提供更复杂触摸界面的设备上使用声明该功能的应用。注：默认情况下应用需要 android.hardware.touchscreen。 如果您希望自己的应用可供提供假触摸界面的设备使用，则必须显式声明不要求提供触摸屏。
android.hardware.faketouch.multitouch.distinct|应用在假触摸界面上区分两个或更多个“手指”的触摸轨迹。 这是android.hardware.faketouch 功能的一个超集。 声明为必需时，此功能表示应用只兼容模拟区分两个或更多个手指的触摸轨迹或实际具有触摸屏的设备。不同于 android.hardware.touchscreen.multitouch.distinct 所定义的区分式多点触摸，通过假触摸界面支持区分式多点触摸的输入设备并不支持所有双指手势，因为输入会转换成屏幕上的光标移动。 也就是说，在此类设备上的单指手势移动光标，双指划动触发单指触摸事件，而其他双指手势则触发相应的双指触摸事件。提供双指触摸触控板进行光标移动的设备可支持该功能。
android.hardware.faketouch.multitouch.jazzhand|应用在假触摸界面上区分五个或更多个“手指”的触摸轨迹。 这是 android.hardware.faketouch 功能的一个超集。 声明为必需时，此功能表示应用只兼容模拟区分五个或更多个手指的触摸轨迹或实际具有触摸屏的设备。不同于 android.hardware.touchscreen.multitouch.jazzhand 所定义的区分式多点触摸，通过假触摸界面支持单手多点触摸的输入设备并不支持所有五指手势，因为输入会转换成屏幕上的光标移动。 也就是说，在此类设备上的单指手势移动光标，多指手势触发单指触摸事件，而其他多指手势则触发相应的多指触摸事件。提供五指触摸触控板进行光标移动的设备可支持该功能。
android.hardware.touchscreen|应用利用设备的触摸屏功能来实现比基本触摸事件交互性更强的手势，例如滑屏。 这是 android.hardware.faketouch 功能的一个超集。默认情况下，您的应用需要该功能。因此，您的应用不可供默认情况下只提供模拟触摸界面（“假触摸”）的设备使用。 如果您希望自己的应用可供提供假触摸界面的设备（甚至只提供方向键控制器的设备）使用，则必须通过在声明 android.hardware.touchscreen 时加入 android:required="false" 来显式声明不要求提供触摸屏。 如果您的应用使用（但并不需要）真触摸屏界面，则应添加此声明。如果您的应用确实需要触摸界面（以便执行滑屏之类的更高级触摸手势），则您无需声明任何触摸界面功能，因为它们在默认情况下是必需功能。 不过，最好还是显式声明您的应用使用的所有功能。如果您需要进行更复杂的触摸交互（例如多指手势），则应声明您的应用使用高级触摸屏功能。
android.hardware.touchscreen.multitouch|应用使用设备的基本两点式多点触摸功能（例如实现张合手势的功能），但应用不需要独立追踪触摸轨迹。 这是 android.hardware.touchscreen 功能的一个超集。应用通过使用该功能暗示其还使用 android.hardware.touchscreen 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.touchscreen.multitouch.distinct|应用使用设备的高级多点触摸功能来独立追踪两点或更多点的轨迹。 该功能是android.hardware.touchscreen.multitouch 功能的一个超集。应用通过使用该功能暗示其还使用 android.hardware.touchscreen.multitouch 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.touchscreen.multitouch.jazzhand|应用使用设备的高级多点触摸功能来独立追踪五点或更多点的轨迹。 该功能是android.hardware.touchscreen.multitouch 功能的一个超集。应用通过使用该功能暗示其还使用 android.hardware.touchscreen.multitouch 功能，除非这个父功能在声明时使用了 android:required="false"。
android.hardware.usb.accessory|应用表现为 USB 设备，与 USB 主机相连。 
android.hardware.usb.host|应用使用与设备相连的 USB 附件。设备充当 USB 主机。 
android.hardware.wifi|应用使用设备上的 802.11 网络 (Wi-Fi) 功能。 
android.hardware.wifi.direct|应用使用设备上的 Wi-Fi Direct 网络功能。 
android.software.sip|应用使用会话发起协议 (SIP) 服务。通过使用 SIP，应用可以支持互联网电话操作，例如视频会议和即时消息传递。 
android.software.sip.voip|应用使用基于 SIP 的互联网语音协议 (VoIP) 服务。通过使用 VoIP，应用可以支持实时互联网电话操作，例如双向视频会议。应用通过使用该功能暗示其还使用 android.software.sip 功能，除非这个父功能在声明时使用了 android:required="false"。
android.software.webview|应用显示来自互联网的内容。 
android.software.input_methods|应用使用新的输入法，该输入法由开发者在 InputMethodService 中定义。 
android.software.backup|应用加入处理备份和恢复操作的逻辑。 
android.software.device_admin|应用通过设备管理员来强制执行设备规范。 
android.software.managed_users|应用支持二级用户和托管配置文件。 
android.software.securely_removes_users|应用可永久性移除用户及其相关数据。 
android.software.verified_boot|应用加入处理设备验证启动功能结果的逻辑，该逻辑可检测设备的配置在重新启动操作期间是否发生了变化。 
android.software.midi|应用利用乐器数字化接口 (MIDI) 协议连接到乐器或输出声音。 
android.software.print|应用加入打印设备上所显示文档的命令。 
android.software.leanback|应用呈现专为在大屏幕（例如电视）上观看而设计的 UI。 
android.software.live_tv|应用流式传输直播电视节目。 
android.software.app_widgets|应用使用或提供应用小部件，并且只应安装在带有可供用户嵌入应用小部件的主屏幕或类似位置的设备上。 
android.software.home_screen|应用起到替代设备主屏幕的作用。 
android.software.live_wallpaper|应用使用或提供包含动画的壁纸。 

以下是正常权限：
- `ACCESS_LOCATION_EXTRA_COMMANDS`
- `ACCESS_NETWORK_STATE`
- `ACCESS_NOTIFICATION_POLICY`
- `ACCESS_WIFI_STATE`
- `BLUETOOTH`
- `BLUETOOTH_ADMIN`
- `BROADCAST_STICKY`
- `CHANGE_NETWORK_STATE`
- `CHANGE_WIFI_MULTICAST_STATE`
- `CHANGE_WIFI_STATE`
- `DISABLE_KEYGUARD`
- `EXPAND_STATUS_BAR`
- `GET_PACKAGE_SIZE`
- `INSTALL_SHORTCUT`
- `INTERNET`
- `KILL_BACKGROUND_PROCESSES`
- `MANAGE_OWN_CALLS`
- `MODIFY_AUDIO_SETTINGS`
- `NFC`
- `READ_SYNC_SETTINGS`
- `READ_SYNC_STATS`
- `RECEIVE_BOOT_COMPLETED`
- `REORDER_TASKS`
- `REQUEST_COMPANION_RUN_IN_BACKGROUND`
- `REQUEST_COMPANION_USE_DATA_IN_BACKGROUND`
- `REQUEST_DELETE_PACKAGES`
- `REQUEST_IGNORE_BATTERY_OPTIMIZATIONS`
- `SET_ALARM`
- `SET_WALLPAPER`
- `SET_WALLPAPER_HINTS`
- `TRANSMIT_IR`
- `USE_FINGERPRINT`
- `VIBRATE`
- `WAKE_LOCK`
- `WRITE_SYNC_SETTINGS`

以下权限只容许与声明极限者由同一张证书签署的应用使用：
- `BIND_ACCESSIBILITY_SERVICE`
- `BIND_AUTOFILL_SERVICE`
- `BIND_CARRIER_SERVICES`
- `BIND_CHOOSER_TARGET_SERVICE`
- `BIND_CONDITION_PROVIDER_SERVICE`
- `BIND_DEVICE_ADMIN`
- `BIND_DREAM_SERVICE`
- `BIND_INCALL_SERVICE`
- `BIND_INPUT_METHOD`
- `BIND_MIDI_DEVICE_SERVICE`
- `BIND_NFC_SERVICE`
- `BIND_NOTIFICATION_LISTENER_SERVICE`
- `BIND_PRINT_SERVICE`
- `BIND_SCREENING_SERVICE`
- `BIND_TELECOM_CONNECTION_SERVICE`
- `BIND_TEXT_SERVICE`
- `BIND_TV_INPUT`
- `BIND_VISUAL_VOICEMAIL_SERVICE`
- `BIND_VOICE_INTERACTION`
- `BIND_VPN_SERVICE`
- `BIND_VR_LISTENER_SERVICE`
- `BIND_WALLPAPER`
- `CLEAR_APP_CACHE`
- `MANAGE_DOCUMENTS`
- `READ_VOICEMAIL`
- `REQUEST_INSTALL_PACKAGES`
- `SYSTEM_ALERT_WINDOW`
- `WRITE_SETTINGS`
- `WRITE_VOICEMAIL`

以下是有明显隐私风险的权限组和其中的危险权限（对于Android 5.1（API级别22)或以下，又或`targetSdkVersion`是22或以下，系统会在安装应用时向用户请求权限，否则在运行时才请求。）：
- `CALENDAR`
    - `READ_CALENDAR`
    - `WRITE_CALENDAR`
- `CAMERA`
    - `CAMERA`
- `CONTACTS`	
    - `READ_CONTACTS`
    - `WRITE_CONTACTS`
    - `GET_ACCOUNTS`
- `LOCATION` 	
    - `ACCESS_FINE_LOCATION`
    - `ACCESS_COARSE_LOCATION`
- `MICROPHONE`
    - `RECORD_AUDIO`
- `PHONE`
    - `READ_PHONE_STATE`
    - `READ_PHONE_NUMBERS`
    - `CALL_PHONE`
    - `ANSWER_PHONE_CALLS`
    - `READ_CALL_LOG`
    - `WRITE_CALL_LOG`
    - `ADD_VOICEMAIL`
    - `USE_SIP`
    - `PROCESS_OUTGOING_CALLS`
- `SENSORS`
    - `BODY_SENSORS`
- `SMS`
    - `SEND_SMS`
    - `RECEIVE_SMS`
    - `READ_SMS`
    - `RECEIVE_WAP_PUSH`
    - `RECEIVE_MMS`
- `STORAGE`
    - `READ_EXTERNAL_STORAGE`
    - `WRITE_EXTERNAL_STORAGE`

`ContextCompat.checkSelfPermission()`、`ActivityCompat.requestPermissions()`


## 基本概念

Android 应用都是将各种可单独调用的不同组件加以组合开发而成。例如，组件可以是为用户界面提供一个屏幕的单个“Activity”，也可以是在后台独立执行工作的“服务”。

您可以使用 intent 从一个组件启动另一个组件。甚至，您还可以启动不同应用中的组件，例如，启动地图应用中的 Activity 以显示地址。此模式可为单个应用提供多个入口点，并使任何应用均能够像用户“默认设置”一样处理其他应用可能调用的操作。

## 下一步

如对细节有疑问，可以查阅[API文档](https://developer.android.google.cn/reference/classes)。
